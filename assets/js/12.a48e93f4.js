(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{367:function(s,t,a){"use strict";a.r(t);var n=a(45),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"如何开发一个-npm-包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何开发一个-npm-包"}},[s._v("#")]),s._v(" 如何开发一个 npm 包")]),s._v(" "),a("h2",{attrs:{id:"_1-npm-介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-npm-介绍"}},[s._v("#")]),s._v(" 1. npm 介绍")]),s._v(" "),a("p",[s._v("npm（全称 Node Package Manager，即“node 包管理器”）是 Node.js 默认的、用 JavaScript 编写的软件包管理系统。")]),s._v(" "),a("h2",{attrs:{id:"_2-npm-注册"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-npm-注册"}},[s._v("#")]),s._v(" 2. npm 注册")]),s._v(" "),a("p",[s._v("通过"),a("a",{attrs:{href:"https://www.npmjs.com/signup",target:"_blank",rel:"noopener noreferrer"}},[s._v("NPM 官网"),a("OutboundLink")],1),s._v("注册")]),s._v(" "),a("p",[a("strong",[s._v("记住用户名和密码，在发布时要用到。")])]),s._v(" "),a("h2",{attrs:{id:"_3-初始化一个-npm-项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-初始化一个-npm-项目"}},[s._v("#")]),s._v(" 3. 初始化一个 NPM 项目")]),s._v(" "),a("h3",{attrs:{id:"_3-1-初始化包项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-初始化包项目"}},[s._v("#")]),s._v(" 3.1 初始化包项目")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mkdir npm-package\nnpm init -y\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"_3-2-编辑-package-json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-编辑-package-json"}},[s._v("#")]),s._v(" 3.2 编辑 package.json")]),s._v(" "),a("p",[s._v("先来看一下 package.json 的相关属性")]),s._v(" "),a("ul",[a("li",[s._v("name：即项目名")]),s._v(" "),a("li",[s._v("version：即包的版本（每次发布时，版本号要大于线上版本）")]),s._v(" "),a("li",[s._v("description：描述信息")]),s._v(" "),a("li",[s._v("main：指定入口文件")]),s._v(" "),a("li",[s._v("scripts：脚本命令")]),s._v(" "),a("li",[s._v("repository：源码仓库地址")]),s._v(" "),a("li",[s._v("keywords：关键词")]),s._v(" "),a("li",[s._v("author：作者信息")]),s._v(" "),a("li",[s._v("license：版权类型")]),s._v(" "),a("li",[s._v("bugs：bug 反馈")]),s._v(" "),a("li",[s._v("homepage：项目主页")])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("注意项")]),s._v(" "),a("p",[s._v("name、version——必填")]),s._v(" "),a("p",[s._v("引申")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/62578705",target:"_blank",rel:"noopener noreferrer"}},[s._v("7 种版权类型"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/SunshowerC/blog/issues/8",target:"_blank",rel:"noopener noreferrer"}},[s._v("package.json 中的入口 browser, module, main"),a("OutboundLink")],1)])]),s._v(" "),a("p",[s._v("修改后的 package.json")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my-demo-js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 你准备发布的npm的包名, 必填")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 你当前的npm的版本号，每次发布都需要递增, 必填")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"description"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"main"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"index.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 你的npm包的主入口文件")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"echo \\"Error: no test specified\\" && exit 1"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这是仓库地址，可填可不填")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"repository"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git+https://github.com/XXX/my-demo-js.git"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// issues，可填可不填")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bugs"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://github.com/XXX/my-demo-js/issues"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// readme，可填可不填")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"homepage"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://github.com/XXX/my-demo-js#readme"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"keywords"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"author"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"license"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ISC"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("h3",{attrs:{id:"_3-3-主入口文件-index-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-主入口文件-index-js"}},[s._v("#")]),s._v(" 3.3 主入口文件 index.js")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 先随便写点什么")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello styd!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"_4-登录发布与删除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-登录发布与删除"}},[s._v("#")]),s._v(" 4. 登录发布与删除")]),s._v(" "),a("h3",{attrs:{id:"_4-1-登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-登录"}},[s._v("#")]),s._v(" 4.1 登录")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm login\nnpm whoami // 查看当前npm登录用户名\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("img",{attrs:{src:s.$withBase("/npm/2.png"),alt:"2"}}),s._v(" "),a("h3",{attrs:{id:"_4-2-发布"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-发布"}},[s._v("#")]),s._v(" 4.2 发布")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm publish\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("img",{attrs:{src:s.$withBase("/npm/3.png"),alt:"3"}}),s._v(" "),a("h4",{attrs:{id:"npm-后台"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm-后台"}},[s._v("#")]),s._v(" npm 后台")]),s._v(" "),a("img",{attrs:{src:s.$withBase("/npm/4.png"),alt:"4"}}),s._v(" "),a("h3",{attrs:{id:"_4-3-删除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-删除"}},[s._v("#")]),s._v(" 4.3 删除")]),s._v(" "),a("h4",{attrs:{id:"_4-3-1-查看版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-1-查看版本"}},[s._v("#")]),s._v(" 4.3.1 查看版本")]),s._v(" "),a("img",{attrs:{src:s.$withBase("/npm/8.png"),alt:"8"}}),s._v(" "),a("h4",{attrs:{id:"_4-3-2-删除版本-0-0-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-2-删除版本-0-0-2"}},[s._v("#")]),s._v(" 4.3.2 删除版本 0.0.2")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm unpublish my-demo-js@0.0.2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_4-3-3-删除整个包-谨慎操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-3-删除整个包-谨慎操作"}},[s._v("#")]),s._v(" 4.3.3 删除整个包("),a("strong",[s._v("谨慎操作")]),s._v(")")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("小提示")]),s._v(" "),a("ol",[a("li",[s._v("删除的版本 24 小时后方可重发!")]),s._v(" "),a("li",[s._v("只有发布 72 小时之内的包可以删除!")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm unpublish --force my-demo-js\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_5-项目使用发布的包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-项目使用发布的包"}},[s._v("#")]),s._v(" 5. 项目使用发布的包")]),s._v(" "),a("h3",{attrs:{id:"_5-1-项目目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-项目目录"}},[s._v("#")]),s._v(" 5.1 项目目录")]),s._v(" "),a("img",{attrs:{src:s.$withBase("/npm/5.png"),alt:"5"}}),s._v(" "),a("h3",{attrs:{id:"_5-2-安装-npm-包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-安装-npm-包"}},[s._v("#")]),s._v(" 5.2 安装 npm 包")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm i my-demo-js\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_5-3-html-引入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-html-引入"}},[s._v("#")]),s._v(" 5.3 html 引入")]),s._v(" "),a("img",{attrs:{src:s.$withBase("/npm/6.png"),alt:"6"}}),s._v(" "),a("h3",{attrs:{id:"_5-4-效果展示"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-效果展示"}},[s._v("#")]),s._v(" 5.4 效果展示")]),s._v(" "),a("img",{attrs:{src:s.$withBase("/npm/7.png"),alt:"7"}}),s._v(" "),a("h2",{attrs:{id:"_6-实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-实例"}},[s._v("#")]),s._v(" 6. 实例")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://www.npmjs.com/package/help.css",target:"_blank",rel:"noopener noreferrer"}},[s._v("help.css"),a("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);